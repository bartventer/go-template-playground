var y;(function(r){const t={total:0,min:Number.MAX_VALUE,max:0},m={...t},p={...t},s={...t};let a=0;const e={keydown:0,input:0,render:0};function w(){c(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),e.keydown=1,queueMicrotask(M)}r.onKeyDown=w;function M(){e.keydown===1&&(performance.mark("keydown/end"),e.keydown=2)}function k(){performance.mark("input/start"),e.input=1,l()}r.onBeforeInput=k;function I(){e.input===0&&k(),queueMicrotask(x)}r.onInput=I;function x(){e.input===1&&(performance.mark("input/end"),e.input=2)}function h(){c()}r.onKeyUp=h;function C(){c()}r.onSelectionChange=C;function T(){e.keydown===2&&e.input===2&&e.render===0&&(performance.mark("render/start"),e.render=1,queueMicrotask(g),l())}r.onRenderStart=T;function g(){e.render===1&&(performance.mark("render/end"),e.render=2)}function l(){setTimeout(c)}function c(){e.keydown===2&&e.input===2&&e.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),d("keydown",t),d("input",m),d("render",p),d("inputlatency",s),a++,A())}function d(n,o){const f=performance.getEntriesByName(n)[0].duration;o.total+=f,o.min=Math.min(o.min,f),o.max=Math.max(o.max,f)}function A(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),e.keydown=0,e.input=0,e.render=0}function E(){if(a===0)return;const n={keydown:i(t),input:i(m),render:i(p),total:i(s),sampleCount:a};return u(t),u(m),u(p),u(s),a=0,n}r.getAndClearMeasurements=E;function i(n){return{average:n.total/a,max:n.max,min:n.min}}function u(n){n.total=0,n.min=Number.MAX_VALUE,n.max=0}})(y||(y={}));export{y as i};
//# sourceMappingURL=monaco-editor-esm-vs-base-browser-performance-BOFkUl2Q.js.map
