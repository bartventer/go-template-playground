{"version":3,"file":"playground.worker-CQqmcHKi.js","sources":["../src/lib/go/wasm_exec.js","../src/services/wasm/GoWasmLoaderService.ts","../../../../../../../wasm/playground.wasm.gz?url","../src/workers/playground.worker.ts"],"sourcesContent":["// Copyright 2018 The Go Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\n\n\"use strict\";\n\n(() => {\n\tconst enosys = () => {\n\t\tconst err = new Error(\"not implemented\");\n\t\terr.code = \"ENOSYS\";\n\t\treturn err;\n\t};\n\n\tif (!globalThis.fs) {\n\t\tlet outputBuf = \"\";\n\t\tglobalThis.fs = {\n\t\t\tconstants: { O_WRONLY: -1, O_RDWR: -1, O_CREAT: -1, O_TRUNC: -1, O_APPEND: -1, O_EXCL: -1, O_DIRECTORY: -1 }, // unused\n\t\t\twriteSync(fd, buf) {\n\t\t\t\toutputBuf += decoder.decode(buf);\n\t\t\t\tconst nl = outputBuf.lastIndexOf(\"\\n\");\n\t\t\t\tif (nl != -1) {\n\t\t\t\t\tconsole.log(outputBuf.substring(0, nl));\n\t\t\t\t\toutputBuf = outputBuf.substring(nl + 1);\n\t\t\t\t}\n\t\t\t\treturn buf.length;\n\t\t\t},\n\t\t\twrite(fd, buf, offset, length, position, callback) {\n\t\t\t\tif (offset !== 0 || length !== buf.length || position !== null) {\n\t\t\t\t\tcallback(enosys());\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst n = this.writeSync(fd, buf);\n\t\t\t\tcallback(null, n);\n\t\t\t},\n\t\t\tchmod(path, mode, callback) { callback(enosys()); },\n\t\t\tchown(path, uid, gid, callback) { callback(enosys()); },\n\t\t\tclose(fd, callback) { callback(enosys()); },\n\t\t\tfchmod(fd, mode, callback) { callback(enosys()); },\n\t\t\tfchown(fd, uid, gid, callback) { callback(enosys()); },\n\t\t\tfstat(fd, callback) { callback(enosys()); },\n\t\t\tfsync(fd, callback) { callback(null); },\n\t\t\tftruncate(fd, length, callback) { callback(enosys()); },\n\t\t\tlchown(path, uid, gid, callback) { callback(enosys()); },\n\t\t\tlink(path, link, callback) { callback(enosys()); },\n\t\t\tlstat(path, callback) { callback(enosys()); },\n\t\t\tmkdir(path, perm, callback) { callback(enosys()); },\n\t\t\topen(path, flags, mode, callback) { callback(enosys()); },\n\t\t\tread(fd, buffer, offset, length, position, callback) { callback(enosys()); },\n\t\t\treaddir(path, callback) { callback(enosys()); },\n\t\t\treadlink(path, callback) { callback(enosys()); },\n\t\t\trename(from, to, callback) { callback(enosys()); },\n\t\t\trmdir(path, callback) { callback(enosys()); },\n\t\t\tstat(path, callback) { callback(enosys()); },\n\t\t\tsymlink(path, link, callback) { callback(enosys()); },\n\t\t\ttruncate(path, length, callback) { callback(enosys()); },\n\t\t\tunlink(path, callback) { callback(enosys()); },\n\t\t\tutimes(path, atime, mtime, callback) { callback(enosys()); },\n\t\t};\n\t}\n\n\tif (!globalThis.process) {\n\t\tglobalThis.process = {\n\t\t\tgetuid() { return -1; },\n\t\t\tgetgid() { return -1; },\n\t\t\tgeteuid() { return -1; },\n\t\t\tgetegid() { return -1; },\n\t\t\tgetgroups() { throw enosys(); },\n\t\t\tpid: -1,\n\t\t\tppid: -1,\n\t\t\tumask() { throw enosys(); },\n\t\t\tcwd() { throw enosys(); },\n\t\t\tchdir() { throw enosys(); },\n\t\t}\n\t}\n\n\tif (!globalThis.path) {\n\t\tglobalThis.path = {\n\t\t\tresolve(...pathSegments) {\n\t\t\t\treturn pathSegments.join(\"/\");\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!globalThis.crypto) {\n\t\tthrow new Error(\"globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)\");\n\t}\n\n\tif (!globalThis.performance) {\n\t\tthrow new Error(\"globalThis.performance is not available, polyfill required (performance.now only)\");\n\t}\n\n\tif (!globalThis.TextEncoder) {\n\t\tthrow new Error(\"globalThis.TextEncoder is not available, polyfill required\");\n\t}\n\n\tif (!globalThis.TextDecoder) {\n\t\tthrow new Error(\"globalThis.TextDecoder is not available, polyfill required\");\n\t}\n\n\tconst encoder = new TextEncoder(\"utf-8\");\n\tconst decoder = new TextDecoder(\"utf-8\");\n\n\tglobalThis.Go = class {\n\t\tconstructor() {\n\t\t\tthis.argv = [\"js\"];\n\t\t\tthis.env = {};\n\t\t\tthis.exit = (code) => {\n\t\t\t\tif (code !== 0) {\n\t\t\t\t\tconsole.warn(\"exit code:\", code);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis._exitPromise = new Promise((resolve) => {\n\t\t\t\tthis._resolveExitPromise = resolve;\n\t\t\t});\n\t\t\tthis._pendingEvent = null;\n\t\t\tthis._scheduledTimeouts = new Map();\n\t\t\tthis._nextCallbackTimeoutID = 1;\n\n\t\t\tconst setInt64 = (addr, v) => {\n\t\t\t\tthis.mem.setUint32(addr + 0, v, true);\n\t\t\t\tthis.mem.setUint32(addr + 4, Math.floor(v / 4294967296), true);\n\t\t\t}\n\n\t\t\tconst setInt32 = (addr, v) => {\n\t\t\t\tthis.mem.setUint32(addr + 0, v, true);\n\t\t\t}\n\n\t\t\tconst getInt64 = (addr) => {\n\t\t\t\tconst low = this.mem.getUint32(addr + 0, true);\n\t\t\t\tconst high = this.mem.getInt32(addr + 4, true);\n\t\t\t\treturn low + high * 4294967296;\n\t\t\t}\n\n\t\t\tconst loadValue = (addr) => {\n\t\t\t\tconst f = this.mem.getFloat64(addr, true);\n\t\t\t\tif (f === 0) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\tif (!isNaN(f)) {\n\t\t\t\t\treturn f;\n\t\t\t\t}\n\n\t\t\t\tconst id = this.mem.getUint32(addr, true);\n\t\t\t\treturn this._values[id];\n\t\t\t}\n\n\t\t\tconst storeValue = (addr, v) => {\n\t\t\t\tconst nanHead = 0x7FF80000;\n\n\t\t\t\tif (typeof v === \"number\" && v !== 0) {\n\t\t\t\t\tif (isNaN(v)) {\n\t\t\t\t\t\tthis.mem.setUint32(addr + 4, nanHead, true);\n\t\t\t\t\t\tthis.mem.setUint32(addr, 0, true);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.mem.setFloat64(addr, v, true);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (v === undefined) {\n\t\t\t\t\tthis.mem.setFloat64(addr, 0, true);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet id = this._ids.get(v);\n\t\t\t\tif (id === undefined) {\n\t\t\t\t\tid = this._idPool.pop();\n\t\t\t\t\tif (id === undefined) {\n\t\t\t\t\t\tid = this._values.length;\n\t\t\t\t\t}\n\t\t\t\t\tthis._values[id] = v;\n\t\t\t\t\tthis._goRefCounts[id] = 0;\n\t\t\t\t\tthis._ids.set(v, id);\n\t\t\t\t}\n\t\t\t\tthis._goRefCounts[id]++;\n\t\t\t\tlet typeFlag = 0;\n\t\t\t\tswitch (typeof v) {\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tif (v !== null) {\n\t\t\t\t\t\t\ttypeFlag = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\ttypeFlag = 2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"symbol\":\n\t\t\t\t\t\ttypeFlag = 3;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\ttypeFlag = 4;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tthis.mem.setUint32(addr + 4, nanHead | typeFlag, true);\n\t\t\t\tthis.mem.setUint32(addr, id, true);\n\t\t\t}\n\n\t\t\tconst loadSlice = (addr) => {\n\t\t\t\tconst array = getInt64(addr + 0);\n\t\t\t\tconst len = getInt64(addr + 8);\n\t\t\t\treturn new Uint8Array(this._inst.exports.mem.buffer, array, len);\n\t\t\t}\n\n\t\t\tconst loadSliceOfValues = (addr) => {\n\t\t\t\tconst array = getInt64(addr + 0);\n\t\t\t\tconst len = getInt64(addr + 8);\n\t\t\t\tconst a = new Array(len);\n\t\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\t\ta[i] = loadValue(array + i * 8);\n\t\t\t\t}\n\t\t\t\treturn a;\n\t\t\t}\n\n\t\t\tconst loadString = (addr) => {\n\t\t\t\tconst saddr = getInt64(addr + 0);\n\t\t\t\tconst len = getInt64(addr + 8);\n\t\t\t\treturn decoder.decode(new DataView(this._inst.exports.mem.buffer, saddr, len));\n\t\t\t}\n\n\t\t\tconst testCallExport = (a, b) => {\n\t\t\t\tthis._inst.exports.testExport0();\n\t\t\t\treturn this._inst.exports.testExport(a, b);\n\t\t\t}\n\n\t\t\tconst timeOrigin = Date.now() - performance.now();\n\t\t\tthis.importObject = {\n\t\t\t\t_gotest: {\n\t\t\t\t\tadd: (a, b) => a + b,\n\t\t\t\t\tcallExport: testCallExport,\n\t\t\t\t},\n\t\t\t\tgojs: {\n\t\t\t\t\t// Go's SP does not change as long as no Go code is running. Some operations (e.g. calls, getters and setters)\n\t\t\t\t\t// may synchronously trigger a Go event handler. This makes Go code get executed in the middle of the imported\n\t\t\t\t\t// function. A goroutine can switch to a new stack if the current stack is too small (see morestack function).\n\t\t\t\t\t// This changes the SP, thus we have to update the SP used by the imported function.\n\n\t\t\t\t\t// func wasmExit(code int32)\n\t\t\t\t\t\"runtime.wasmExit\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst code = this.mem.getInt32(sp + 8, true);\n\t\t\t\t\t\tthis.exited = true;\n\t\t\t\t\t\tdelete this._inst;\n\t\t\t\t\t\tdelete this._values;\n\t\t\t\t\t\tdelete this._goRefCounts;\n\t\t\t\t\t\tdelete this._ids;\n\t\t\t\t\t\tdelete this._idPool;\n\t\t\t\t\t\tthis.exit(code);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func wasmWrite(fd uintptr, p unsafe.Pointer, n int32)\n\t\t\t\t\t\"runtime.wasmWrite\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst fd = getInt64(sp + 8);\n\t\t\t\t\t\tconst p = getInt64(sp + 16);\n\t\t\t\t\t\tconst n = this.mem.getInt32(sp + 24, true);\n\t\t\t\t\t\tfs.writeSync(fd, new Uint8Array(this._inst.exports.mem.buffer, p, n));\n\t\t\t\t\t},\n\n\t\t\t\t\t// func resetMemoryDataView()\n\t\t\t\t\t\"runtime.resetMemoryDataView\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tthis.mem = new DataView(this._inst.exports.mem.buffer);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func nanotime1() int64\n\t\t\t\t\t\"runtime.nanotime1\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tsetInt64(sp + 8, (timeOrigin + performance.now()) * 1000000);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func walltime() (sec int64, nsec int32)\n\t\t\t\t\t\"runtime.walltime\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst msec = (new Date).getTime();\n\t\t\t\t\t\tsetInt64(sp + 8, msec / 1000);\n\t\t\t\t\t\tthis.mem.setInt32(sp + 16, (msec % 1000) * 1000000, true);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func scheduleTimeoutEvent(delay int64) int32\n\t\t\t\t\t\"runtime.scheduleTimeoutEvent\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst id = this._nextCallbackTimeoutID;\n\t\t\t\t\t\tthis._nextCallbackTimeoutID++;\n\t\t\t\t\t\tthis._scheduledTimeouts.set(id, setTimeout(\n\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\tthis._resume();\n\t\t\t\t\t\t\t\twhile (this._scheduledTimeouts.has(id)) {\n\t\t\t\t\t\t\t\t\t// for some reason Go failed to register the timeout event, log and try again\n\t\t\t\t\t\t\t\t\t// (temporary workaround for https://github.com/golang/go/issues/28975)\n\t\t\t\t\t\t\t\t\tconsole.warn(\"scheduleTimeoutEvent: missed timeout event\");\n\t\t\t\t\t\t\t\t\tthis._resume();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgetInt64(sp + 8),\n\t\t\t\t\t\t));\n\t\t\t\t\t\tthis.mem.setInt32(sp + 16, id, true);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func clearTimeoutEvent(id int32)\n\t\t\t\t\t\"runtime.clearTimeoutEvent\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst id = this.mem.getInt32(sp + 8, true);\n\t\t\t\t\t\tclearTimeout(this._scheduledTimeouts.get(id));\n\t\t\t\t\t\tthis._scheduledTimeouts.delete(id);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func getRandomData(r []byte)\n\t\t\t\t\t\"runtime.getRandomData\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tcrypto.getRandomValues(loadSlice(sp + 8));\n\t\t\t\t\t},\n\n\t\t\t\t\t// func finalizeRef(v ref)\n\t\t\t\t\t\"syscall/js.finalizeRef\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst id = this.mem.getUint32(sp + 8, true);\n\t\t\t\t\t\tthis._goRefCounts[id]--;\n\t\t\t\t\t\tif (this._goRefCounts[id] === 0) {\n\t\t\t\t\t\t\tconst v = this._values[id];\n\t\t\t\t\t\t\tthis._values[id] = null;\n\t\t\t\t\t\t\tthis._ids.delete(v);\n\t\t\t\t\t\t\tthis._idPool.push(id);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t// func stringVal(value string) ref\n\t\t\t\t\t\"syscall/js.stringVal\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tstoreValue(sp + 24, loadString(sp + 8));\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueGet(v ref, p string) ref\n\t\t\t\t\t\"syscall/js.valueGet\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst result = Reflect.get(loadValue(sp + 8), loadString(sp + 16));\n\t\t\t\t\t\tsp = this._inst.exports.getsp() >>> 0; // see comment above\n\t\t\t\t\t\tstoreValue(sp + 32, result);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueSet(v ref, p string, x ref)\n\t\t\t\t\t\"syscall/js.valueSet\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tReflect.set(loadValue(sp + 8), loadString(sp + 16), loadValue(sp + 32));\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueDelete(v ref, p string)\n\t\t\t\t\t\"syscall/js.valueDelete\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tReflect.deleteProperty(loadValue(sp + 8), loadString(sp + 16));\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueIndex(v ref, i int) ref\n\t\t\t\t\t\"syscall/js.valueIndex\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tstoreValue(sp + 24, Reflect.get(loadValue(sp + 8), getInt64(sp + 16)));\n\t\t\t\t\t},\n\n\t\t\t\t\t// valueSetIndex(v ref, i int, x ref)\n\t\t\t\t\t\"syscall/js.valueSetIndex\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tReflect.set(loadValue(sp + 8), getInt64(sp + 16), loadValue(sp + 24));\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueCall(v ref, m string, args []ref) (ref, bool)\n\t\t\t\t\t\"syscall/js.valueCall\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst v = loadValue(sp + 8);\n\t\t\t\t\t\t\tconst m = Reflect.get(v, loadString(sp + 16));\n\t\t\t\t\t\t\tconst args = loadSliceOfValues(sp + 32);\n\t\t\t\t\t\t\tconst result = Reflect.apply(m, v, args);\n\t\t\t\t\t\t\tsp = this._inst.exports.getsp() >>> 0; // see comment above\n\t\t\t\t\t\t\tstoreValue(sp + 56, result);\n\t\t\t\t\t\t\tthis.mem.setUint8(sp + 64, 1);\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tsp = this._inst.exports.getsp() >>> 0; // see comment above\n\t\t\t\t\t\t\tstoreValue(sp + 56, err);\n\t\t\t\t\t\t\tthis.mem.setUint8(sp + 64, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueInvoke(v ref, args []ref) (ref, bool)\n\t\t\t\t\t\"syscall/js.valueInvoke\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst v = loadValue(sp + 8);\n\t\t\t\t\t\t\tconst args = loadSliceOfValues(sp + 16);\n\t\t\t\t\t\t\tconst result = Reflect.apply(v, undefined, args);\n\t\t\t\t\t\t\tsp = this._inst.exports.getsp() >>> 0; // see comment above\n\t\t\t\t\t\t\tstoreValue(sp + 40, result);\n\t\t\t\t\t\t\tthis.mem.setUint8(sp + 48, 1);\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tsp = this._inst.exports.getsp() >>> 0; // see comment above\n\t\t\t\t\t\t\tstoreValue(sp + 40, err);\n\t\t\t\t\t\t\tthis.mem.setUint8(sp + 48, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueNew(v ref, args []ref) (ref, bool)\n\t\t\t\t\t\"syscall/js.valueNew\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst v = loadValue(sp + 8);\n\t\t\t\t\t\t\tconst args = loadSliceOfValues(sp + 16);\n\t\t\t\t\t\t\tconst result = Reflect.construct(v, args);\n\t\t\t\t\t\t\tsp = this._inst.exports.getsp() >>> 0; // see comment above\n\t\t\t\t\t\t\tstoreValue(sp + 40, result);\n\t\t\t\t\t\t\tthis.mem.setUint8(sp + 48, 1);\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tsp = this._inst.exports.getsp() >>> 0; // see comment above\n\t\t\t\t\t\t\tstoreValue(sp + 40, err);\n\t\t\t\t\t\t\tthis.mem.setUint8(sp + 48, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueLength(v ref) int\n\t\t\t\t\t\"syscall/js.valueLength\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tsetInt64(sp + 16, parseInt(loadValue(sp + 8).length));\n\t\t\t\t\t},\n\n\t\t\t\t\t// valuePrepareString(v ref) (ref, int)\n\t\t\t\t\t\"syscall/js.valuePrepareString\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst str = encoder.encode(String(loadValue(sp + 8)));\n\t\t\t\t\t\tstoreValue(sp + 16, str);\n\t\t\t\t\t\tsetInt64(sp + 24, str.length);\n\t\t\t\t\t},\n\n\t\t\t\t\t// valueLoadString(v ref, b []byte)\n\t\t\t\t\t\"syscall/js.valueLoadString\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst str = loadValue(sp + 8);\n\t\t\t\t\t\tloadSlice(sp + 16).set(str);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func valueInstanceOf(v ref, t ref) bool\n\t\t\t\t\t\"syscall/js.valueInstanceOf\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tthis.mem.setUint8(sp + 24, (loadValue(sp + 8) instanceof loadValue(sp + 16)) ? 1 : 0);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func copyBytesToGo(dst []byte, src ref) (int, bool)\n\t\t\t\t\t\"syscall/js.copyBytesToGo\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst dst = loadSlice(sp + 8);\n\t\t\t\t\t\tconst src = loadValue(sp + 32);\n\t\t\t\t\t\tif (!(src instanceof Uint8Array || src instanceof Uint8ClampedArray)) {\n\t\t\t\t\t\t\tthis.mem.setUint8(sp + 48, 0);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst toCopy = src.subarray(0, dst.length);\n\t\t\t\t\t\tdst.set(toCopy);\n\t\t\t\t\t\tsetInt64(sp + 40, toCopy.length);\n\t\t\t\t\t\tthis.mem.setUint8(sp + 48, 1);\n\t\t\t\t\t},\n\n\t\t\t\t\t// func copyBytesToJS(dst ref, src []byte) (int, bool)\n\t\t\t\t\t\"syscall/js.copyBytesToJS\": (sp) => {\n\t\t\t\t\t\tsp >>>= 0;\n\t\t\t\t\t\tconst dst = loadValue(sp + 8);\n\t\t\t\t\t\tconst src = loadSlice(sp + 16);\n\t\t\t\t\t\tif (!(dst instanceof Uint8Array || dst instanceof Uint8ClampedArray)) {\n\t\t\t\t\t\t\tthis.mem.setUint8(sp + 48, 0);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst toCopy = src.subarray(0, dst.length);\n\t\t\t\t\t\tdst.set(toCopy);\n\t\t\t\t\t\tsetInt64(sp + 40, toCopy.length);\n\t\t\t\t\t\tthis.mem.setUint8(sp + 48, 1);\n\t\t\t\t\t},\n\n\t\t\t\t\t\"debug\": (value) => {\n\t\t\t\t\t\tconsole.log(value);\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tasync run(instance) {\n\t\t\tif (!(instance instanceof WebAssembly.Instance)) {\n\t\t\t\tthrow new Error(\"Go.run: WebAssembly.Instance expected\");\n\t\t\t}\n\t\t\tthis._inst = instance;\n\t\t\tthis.mem = new DataView(this._inst.exports.mem.buffer);\n\t\t\tthis._values = [ // JS values that Go currently has references to, indexed by reference id\n\t\t\t\tNaN,\n\t\t\t\t0,\n\t\t\t\tnull,\n\t\t\t\ttrue,\n\t\t\t\tfalse,\n\t\t\t\tglobalThis,\n\t\t\t\tthis,\n\t\t\t];\n\t\t\tthis._goRefCounts = new Array(this._values.length).fill(Infinity); // number of references that Go has to a JS value, indexed by reference id\n\t\t\tthis._ids = new Map([ // mapping from JS values to reference ids\n\t\t\t\t[0, 1],\n\t\t\t\t[null, 2],\n\t\t\t\t[true, 3],\n\t\t\t\t[false, 4],\n\t\t\t\t[globalThis, 5],\n\t\t\t\t[this, 6],\n\t\t\t]);\n\t\t\tthis._idPool = [];   // unused ids that have been garbage collected\n\t\t\tthis.exited = false; // whether the Go program has exited\n\n\t\t\t// Pass command line arguments and environment variables to WebAssembly by writing them to the linear memory.\n\t\t\tlet offset = 4096;\n\n\t\t\tconst strPtr = (str) => {\n\t\t\t\tconst ptr = offset;\n\t\t\t\tconst bytes = encoder.encode(str + \"\\0\");\n\t\t\t\tnew Uint8Array(this.mem.buffer, offset, bytes.length).set(bytes);\n\t\t\t\toffset += bytes.length;\n\t\t\t\tif (offset % 8 !== 0) {\n\t\t\t\t\toffset += 8 - (offset % 8);\n\t\t\t\t}\n\t\t\t\treturn ptr;\n\t\t\t};\n\n\t\t\tconst argc = this.argv.length;\n\n\t\t\tconst argvPtrs = [];\n\t\t\tthis.argv.forEach((arg) => {\n\t\t\t\targvPtrs.push(strPtr(arg));\n\t\t\t});\n\t\t\targvPtrs.push(0);\n\n\t\t\tconst keys = Object.keys(this.env).sort();\n\t\t\tkeys.forEach((key) => {\n\t\t\t\targvPtrs.push(strPtr(`${key}=${this.env[key]}`));\n\t\t\t});\n\t\t\targvPtrs.push(0);\n\n\t\t\tconst argv = offset;\n\t\t\targvPtrs.forEach((ptr) => {\n\t\t\t\tthis.mem.setUint32(offset, ptr, true);\n\t\t\t\tthis.mem.setUint32(offset + 4, 0, true);\n\t\t\t\toffset += 8;\n\t\t\t});\n\n\t\t\t// The linker guarantees global data starts from at least wasmMinDataAddr.\n\t\t\t// Keep in sync with cmd/link/internal/ld/data.go:wasmMinDataAddr.\n\t\t\tconst wasmMinDataAddr = 4096 + 8192;\n\t\t\tif (offset >= wasmMinDataAddr) {\n\t\t\t\tthrow new Error(\"total length of command line and environment variables exceeds limit\");\n\t\t\t}\n\n\t\t\tthis._inst.exports.run(argc, argv);\n\t\t\tif (this.exited) {\n\t\t\t\tthis._resolveExitPromise();\n\t\t\t}\n\t\t\tawait this._exitPromise;\n\t\t}\n\n\t\t_resume() {\n\t\t\tif (this.exited) {\n\t\t\t\tthrow new Error(\"Go program has already exited\");\n\t\t\t}\n\t\t\tthis._inst.exports.resume();\n\t\t\tif (this.exited) {\n\t\t\t\tthis._resolveExitPromise();\n\t\t\t}\n\t\t}\n\n\t\t_makeFuncWrapper(id) {\n\t\t\tconst go = this;\n\t\t\treturn function () {\n\t\t\t\tconst event = { id: id, this: this, args: arguments };\n\t\t\t\tgo._pendingEvent = event;\n\t\t\t\tgo._resume();\n\t\t\t\treturn event.result;\n\t\t\t};\n\t\t}\n\t}\n})();\n","import \"@lib/go/wasm_exec\";\n\n/** GoWasmLoaderService is a service that loads a Go WebAssembly module. */\nexport class GoWasmLoaderService {\n\t#wasmUrl: string;\n\t#go: Go;\n\n\tconstructor(wasmUrl: string) {\n\t\tthis.#wasmUrl = wasmUrl;\n\t\tthis.#go = new Go();\n\t}\n\n\tasync init(): Promise<void> {\n\t\tconst response = await fetch(this.#wasmUrl, {\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/wasm\",\n\t\t\t\t\"Content-Encoding\": \"gzip\",\n\t\t\t},\n\t\t});\n\t\tif (!response.ok) {\n\t\t\tthrow new Error(\n\t\t\t\t`Network response was not ok: ${response.status} \n\t\t\t\t${response.statusText}`,\n\t\t\t);\n\t\t}\n\t\tconst bytes = await response.arrayBuffer();\n\t\tconst result = await WebAssembly.instantiate(\n\t\t\tbytes,\n\t\t\tthis.#go.importObject,\n\t\t);\n\n\t\ttry {\n\t\t\tthis.#go.run(result.instance);\n\t\t} catch (error) {\n\t\t\ttry {\n\t\t\t\tthis.#go.exit(1);\n\t\t\t} catch (exitError) {\n\t\t\t\tconsole.error(\n\t\t\t\t\t`Unexpected error while exiting Go WebAssembly module: ${\n\t\t\t\t\t\texitError instanceof Error\n\t\t\t\t\t\t\t? exitError.message\n\t\t\t\t\t\t\t: String(exitError)\n\t\t\t\t\t}`,\n\t\t\t\t);\n\t\t\t}\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n","export default \"__VITE_PUBLIC_ASSET__a394da16__\"","/**\n * @file WASM worker script for the Playground.\n *\n * This script is responsible for processing templates and transforming data.\n * It listens for messages from the main thread and processes the data using\n * the WebAssembly module.\n */\n\nimport { GoWasmLoaderService } from \"../services/wasm/GoWasmLoaderService\";\nimport wasmUrl from \"/wasm/playground.wasm.gz?url\";\n\nconst loader = new GoWasmLoaderService(wasmUrl);\n\nloader\n\t.init()\n\t.then(() => {\n\t\tpostMessage({\n\t\t\taction: \"wasmReady\",\n\t\t} satisfies Playground.WasmReadyResult);\n\t})\n\t.catch((error) => {\n\t\tconsole.error(\n\t\t\t`Unexpected error while loading WebAssembly module: ${error instanceof Error ? error.message : String(error)}`,\n\t\t);\n\t\tself.close();\n\t});\n\nonmessage = (event: MessageEvent<Playground.Request>) => {\n\tconst { action, payload } = event.data;\n\n\ttry {\n\t\tlet result;\n\n\t\tswitch (action) {\n\t\t\tcase \"processTemplate\":\n\t\t\t\tresult = processTemplate(...payload);\n\t\t\t\tbreak;\n\t\t\tcase \"transformData\":\n\t\t\t\tresult = transformData(...payload);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.error(`Unknown action: ${action}`);\n\t\t\t\treturn;\n\t\t}\n\n\t\tif (\"data\" in result) {\n\t\t\tpostMessage(\n\t\t\t\t{\n\t\t\t\t\taction: action,\n\t\t\t\t\tdata: result.data,\n\t\t\t\t} satisfies Playground.SuccessResult,\n\t\t\t\t[result.data.buffer],\n\t\t\t);\n\t\t} else {\n\t\t\tpostMessage({\n\t\t\t\taction: action,\n\t\t\t\terror: result.error,\n\t\t\t} satisfies Playground.ErrorResult);\n\t\t}\n\t} catch (error) {\n\t\tpostMessage({\n\t\t\taction: action,\n\t\t\terror: `Unexpected error while processing request: ${error instanceof Error ? error.message : String(error)}`,\n\t\t} satisfies Playground.ErrorResult);\n\t}\n};\n"],"names":["enosys","err","outputBuf","fd","buf","decoder","nl","offset","length","position","callback","n","path","mode","uid","gid","link","perm","flags","buffer","from","to","atime","mtime","pathSegments","encoder","code","resolve","setInt64","addr","v","getInt64","low","high","loadValue","f","id","storeValue","typeFlag","loadSlice","array","len","loadSliceOfValues","a","i","loadString","saddr","testCallExport","b","timeOrigin","sp","p","msec","result","m","args","str","dst","src","toCopy","value","instance","strPtr","ptr","bytes","argc","argvPtrs","arg","key","argv","go","event","GoWasmLoaderService","wasmUrl","__privateAdd","_wasmUrl","_go","__privateSet","response","__privateGet","error","exitError","action","payload"],"mappings":"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"}